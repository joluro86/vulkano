{% extends 'index.html' %}

{% block breadcrumb %}
  {% include 'breadcrumb.html' with home='/' breadcrumbs=breadcrumb_items %}
{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto mt-6 bg-white p-6 rounded shadow">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">{{ titulo }}</h2>

  <div class="overflow-x-auto">
    <table class="min-w-full border border-gray-200 divide-y divide-gray-100">
      <thead class="bg-gray-100">
        <tr class="text-left text-sm text-gray-700">
          <th class="px-4 py-2 border">Producto</th>
          <th class="px-4 py-2 border">Sucursal</th>
          <th class="px-4 py-2 border text-right">Stock actual</th>
          <th class="px-4 py-2 border text-right">Stock mínimo</th>
          <th class="px-4 py-2 border text-center">Bloqueado</th>
          <th class="px-4 py-2 border text-center">Última actualización</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-100 text-sm">
        {% for inv in inventarios %}
        <tr>
          <td class="px-4 py-2 border">{{ inv.producto.nombre }}</td>
          <td class="px-4 py-2 border">{{ inv.sucursal.nombre }}</td>
          <td class="px-4 py-2 border text-right">{{ inv.stock_actual }}</td>
          <td class="px-4 py-2 border text-right">{{ inv.stock_minimo }}</td>
          <td class="px-4 py-2 border text-center">
            {% if inv.bloqueado %}
              <span class="text-red-600 font-semibold">Sí</span>
            {% else %}
              <span class="text-green-600">No</span>
            {% endif %}
          </td>
          <td class="px-4 py-2 border text-center text-xs text-gray-500">
            {{ inv.ultima_actualizacion|date:"Y-m-d H:i" }}
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="6" class="text-center py-4 text-gray-500">No hay registros de inventario.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
