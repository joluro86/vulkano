{% extends 'index.html' %}

{% block breadcrumb %}
  {% include 'breadcrumb.html' with home='/' breadcrumbs=breadcrumb_items %}
{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto mt-6 bg-white p-6 rounded shadow">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-2xl font-bold text-gray-800">Inventario por Sucursal</h2>
  </div>

  <table class="min-w-full border border-gray-200">
    <thead class="bg-gray-100 text-sm text-gray-700">
      <tr>
        <th class="px-4 py-2 border text-left">Producto</th>
        <th class="px-4 py-2 border text-left">Sucursal</th>
        <th class="px-4 py-2 border text-right">Stock actual</th>
        <th class="px-4 py-2 border text-right">Stock mínimo</th>
        <th class="px-4 py-2 border text-center">Bloqueado</th>
      </tr>
    </thead>
    <tbody class="text-sm">
      {% for item in inventario %}
      <tr class="border-b hover:bg-gray-50">
        <td class="px-4 py-2 border">{{ item.producto.nombre }}</td>
        <td class="px-4 py-2 border">{{ item.sucursal.nombre }}</td>
        <td class="px-4 py-2 border text-right">{{ item.stock_actual }}</td>
        <td class="px-4 py-2 border text-right">{{ item.stock_minimo }}</td>
        <td class="px-4 py-2 border text-center">
          {% if item.bloqueado %}
            <span class="text-red-600 font-semibold">Sí</span>
          {% else %}
            <span class="text-green-600">No</span>
          {% endif %}
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="text-center py-4 text-gray-500">No hay datos de inventario para mostrar.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
